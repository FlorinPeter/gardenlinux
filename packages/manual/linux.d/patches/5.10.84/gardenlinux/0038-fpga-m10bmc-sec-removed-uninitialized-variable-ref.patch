From a20f2aa447aee1852740f10edb4fd83f81379872 Mon Sep 17 00:00:00 2001
From: Russ Weight <russell.h.weight@intel.com>
Date: Tue, 3 Nov 2020 10:40:34 -0800
Subject: [PATCH 38/39] fpga: m10bmc-sec: removed uninitialized variable ref

Remove an uninitialized variable reference identified
through static analysis.

Signed-off-by: Russ Weight <russell.h.weight@intel.com>
---
 drivers/fpga/intel-m10-bmc-secure.c | 4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

diff --git a/drivers/fpga/intel-m10-bmc-secure.c b/drivers/fpga/intel-m10-bmc-secure.c
index a35437d4db42..29960b27dd03 100644
--- org/drivers/fpga/intel-m10-bmc-secure.c
+++ new/drivers/fpga/intel-m10-bmc-secure.c
@@ -792,7 +792,6 @@ static int m10bmc_secure_probe(struct platform_device *pdev)
 	struct fpga_sec_mgr_ops *sops;
 	struct fpga_sec_mgr *smgr;
 	struct m10bmc_sec *sec;
-	int ret;
 
 	sec = devm_kzalloc(&pdev->dev, sizeof(*sec), GFP_KERNEL);
 	if (!sec)
@@ -809,8 +808,7 @@ static int m10bmc_secure_probe(struct platform_device *pdev)
 	smgr = devm_fpga_sec_mgr_create(sec->dev, "Max10 BMC Secure Update",
 					sops, sec);
 	if (!smgr) {
-		dev_err(sec->dev,
-			"Security manager failed to start: %d\n", ret);
+		dev_err(sec->dev, "Security manager failed to start");
 		return -ENOMEM;
 	}
 
-- 
2.34.1

